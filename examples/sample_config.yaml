version: "1.0"

# TEXT REDACTION PATTERNS
text_redaction:
  patterns:
    # Street addresses
    - pattern: "\\d+\\s+[A-Za-z]+\\s+(Street|St|Avenue|Ave|Road|Rd|Boulevard|Blvd|Lane|Ln|Drive|Dr|Court|Ct|Suite|Ste)\\b"
      description: "Street addresses"
      context_mode: "proximity"
      context_keywords:
        - "Address:"
        - "Location:"
        - "Ship to:"
        - "Bill to:"
        - "Shipping Address:"
      proximity_threshold: 150
      exclude_if_near:
        - "Dimension"
        - "Drawing"
        - "Scale"
        - "Detail"
        - "Note"
      zone_filter:
        include: ["header", "footer", "body"]
        exclude: ["schematic"]
      font_criteria:
        min_size: 8
        max_size: 14
        exclude_fonts: ["CourierNew", "Monaco", "ISOCP"]

    # Phone numbers
    - pattern: "\\(?\\d{3}\\)?[-. ]?\\d{3}[-. ]?\\d{4}"
      description: "US phone numbers"
      context_mode: "proximity"
      context_keywords:
        - "Phone:"
        - "Tel:"
        - "Mobile:"
        - "Contact:"
      proximity_threshold: 100
      exclude_if_near:
        - "Part #"
        - "Serial"

    # Email addresses
    - pattern: "[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}"
      description: "Email addresses"
      context_mode: "proximity"
      context_keywords:
        - "Email:"
        - "Contact:"
        - "From:"
        - "To:"
      proximity_threshold: 100

# LOGO/IMAGE REDACTION
logo_redaction:
  templates:
    - name: "company_logo"
      image_path: "./reference_logos/company_logo.png"
      confidence_threshold: 0.85
      scale_range:
        min: 0.5
        max: 2.0
        step: 0.1
      method: "cv2.TM_CCOEFF_NORMED"

# CONTEXT ANALYSIS RULES
context_rules:
  address_indicators:
    - "Address"
    - "Street"
    - "City"
    - "State"
    - "ZIP"
    - "Postal Code"
    - "Location"
    - "Ship to"
    - "Bill to"

  schematic_indicators:
    - "Scale"
    - "Drawing"
    - "Detail"
    - "Section"
    - "Dimension"
    - "Note"
    - "View"
    - "Sheet"
    - "Revision"
    - "DWG"

  font_heuristics:
    annotation_fonts:
      - "Arial"
      - "Helvetica"
      - "Times"
      - "TimesNewRoman"
      - "Calibri"

    technical_fonts:
      - "CourierNew"
      - "Courier"
      - "Monaco"
      - "ISOCP"
      - "ISOCPEUR"

    annotation_size_range: [8, 14]
    technical_label_size_range: [6, 10]

  zone_definitions:
    header:
      top_percent: 0
      bottom_percent: 15

    footer:
      top_percent: 85
      bottom_percent: 100

    title_block:
      left_percent: 60
      right_percent: 100
      top_percent: 85
      bottom_percent: 100

# PROCESSING SETTINGS
processing:
  render_dpi: 300
  max_workers: 4
  redaction_color: [255, 255, 255]  # White RGB

  output:
    preserve_metadata: false
    compress: true
    linearize: true

# REPORTING SETTINGS
reporting:
  generate_report: true
  report_format: "json"
  include_coordinates: true
  include_preview_images: false
  report_filename: "redaction_report.json"
